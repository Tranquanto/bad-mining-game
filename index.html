<html lang="en">
<head>
    <link href="styles.css" rel="stylesheet">
    <title>bad mining game</title>
</head>
<body oncontextmenu="return false;">
<!-- Put a file called "music" (no quotes or file extension) in same folder to add music -->
<audio id="music" src="music" loop></audio>
<div id="controls" style="text-align: center;">
    <button onclick="start();">Play!</button>
</div>
<div id="main" style="display: none;">
    <div id="alert" style="background-color: red; color: white; height: 40px; width: 99.5%; display: none;">
        <p id="alertMessage" style="position: relative; top: 12px; left: 12px;">Your inventory is full!</p>
        <p id="closeAlertBtn" onclick="document.getElementById('alert').style.display = 'none';">X</p>
    </div>
    <div id="mobileControls" style="text-align: center;">
        <button class="controlsBtn" onclick="move('u');">↑</button>
        <br>
        <button class="controlsBtn" onclick="move('l');">←</button>
        <button class="controlsBtn" onclick="move('r');">→</button>
        <br>
        <button class="controlsBtn" onclick="move('d');">↓</button>
    </div>
    <p id="health">100 HP</p>
    <div id="healthBarBorder" style="border-color: black; border-width: 2px; border-style: solid; height: 10px;">
        <img id="healthBar" src="health.jpg" style="width: 100%; height: 10px;" alt="Health Bar">
    </div>
    <p id="altitude">Altitude: 0 ft | Position: 0 ft east</p>
    <fieldset id="vision">
        <legend>Vision</legend>
        <p id="up"></p>
        <p id="left"></p>
        <p id="right"></p>
        <p id="down"></p>
    </fieldset>
    <button onclick="openInventory();" id="openInventory">Open Inventory</button>
    <button onclick="closeInventory();" id="closeInventory" style="display: none;">Close Inventory</button>
    <fieldset id="inventory" style="display: none;">
        <legend>Inventory</legend>
    </fieldset>
    <fieldset id="recipes" style="display: none;">
        <legend>Recipe Book</legend>
    </fieldset>
    <button id="openRecipeCheatSheet"
            onclick="document.getElementById('recipeCheatSheet').style.display = (document.getElementById('recipeCheatSheet').style.display === '') ? 'none' : ''; document.getElementById('openRecipeCheatSheet').innerText = (document.getElementById('openRecipeCheatSheet').innerText === 'Open Recipe Cheat Sheet') ? 'Close Recipe Cheat Sheet' : 'Open Recipe Cheat Sheet'">
        Open Recipe Cheat Sheet
    </button>
    <fieldset id="recipeCheatSheet" style="display: none;">
        <legend>Recipe Cheat Sheet</legend>
    </fieldset>
    <script>
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            document.getElementById("controls").innerHTML = "<h1>Controls</h1>\n" +
                "<p>Open/Close Inventory: Open/Close Inventory Button</p>\n" +
                "<p>Move Up: ↑ Button</p>\n" +
                "<p>Move Down: ↓ Button</p>\n" +
                "<p>Move Left: ← Button</p>\n" +
                "<p>Move Right: → Button</p>\n" +
                "<button onClick=\"start();\" style=\"height: 200px; font-size: 48px; border-radius: 400px;\">Play!</button>";
        } else {
            document.getElementById("mobileControls").style.display = "none";
            document.getElementById("controls").innerHTML = "<h1>Controls</h1>\n" +
                "<p>Open/Close Inventory: E</p>\n" +
                "<p>Move Up: W / Up Arrow</p>\n" +
                "<p>Move Down: S / Down Arrow</p>\n" +
                "<p>Move Left: A / Left Arrow</p>\n" +
                "<p>Move Right: D / Right Arrow</p>\n" +
                "<button onClick=\"start();\" style=\"height: 200px; font-size: 48px; border-radius: 400px;\">Play!</button>";
        }
    </script>
    <script src="inventory.js"></script>
    <script src="items.js"></script>
    <script src="recipes.js"></script>
    <script src="main.js"></script>
    <script>
        let output = "<legend>Recipe Cheat Sheet</legend>";
        for (let i = 0; i < recipes.length; i++) {
            const recipe = recipes[i];
            output += `<fieldset class="recipe"><p>${items[String(recipe.output.id)].name} (${recipe.output.count})</p>`;
            for (let c = 0; c < recipe.ingredients.length; c++) {
                output += `<p class='recipeIngredient'>${items[recipe.ingredients[c].id].name} (${(recipe.ingredients[c].count > 0) ? recipe.ingredients[c].count : "1"})</p>`;
            }
            output += `</fieldset>`;
        }
        document.getElementById("recipeCheatSheet").innerHTML = output.replaceAll("undefined", "");
    </script>
</div>
<div id="deathMessage" style="width: 100%; height: 100%; display: none; color: red;">
    <p id="youDiedMessage">You Died!</p>
    <p id="deathMessageText">Death Message Text</p>
    <button onclick="document.getElementById('deathMessage').style.display = 'none'; document.getElementById('main').style.display = ''; document.body.style.backgroundColor = 'rgb(0, 200, 255)';"
            id="respawnBtn">
        Respawn
    </button>
</div>
</body>
</html>